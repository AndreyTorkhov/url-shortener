# URL Shortener

Это простой сервис сокращения URL-адресов, написанный на Go. Проект позволяет пользователям сокращать URL-адреса и восстанавливать их позже. Он имеет HTTP API для создания сокращенных URL-адресов и перенаправления на исходные URL-адреса по псевдонимам.

## Технологии

- **Go**: Язык программирования, используемый в этом проекте.
- **SQLite**: Облегченная база данных SQL для постоянного хранения URL-адресов.
- **Chi**: Легкий маршрутизатор для создания HTTP-сервисов в Go.
- **Slog**:
  Структурированная библиотека log.
- **Validator**: Библиотека для проверки ввода.
- **Cleanenv**: Библиотека для чтения и проверки конфигурации из файлов.

### Структура

- `cmd/url-shortener/`: Содержит основную точку входа для приложения.
- `internal/config/`: Обрабатывает конфигурацию приложения с помощью YAML.
- `internal/http-server/`: Содержит логику, связанную с HTTP-сервером, включая маршрутизацию и обработчики.
- `internal/lib/logger/`: Конфигурация структурированного ведения журнала с использованием `slog`.
- `internal/storage/`: Определяет интерфейсы хранилища и реализует хранилище SQLite.

## Функции

1. **Shorten URL**: Позволяет пользователям создавать сокращенные URL-адреса.
2. **Redirect to Original URL**: Пользователи могут использовать сокращенный URL-адрес для перенаправления на исходный URL-адрес.
3. **Basic Authentication**: Защищает конечные точки создания URL-адресов с помощью базовой аутентификации.
4. **Persistent Storage**: Сохраняет сокращенные URL-адреса и их псевдонимы в базе данных SQLite.
5. **Error Handling and Logging**: Использует структурированное ведение журнала с `slog` и обработкой ошибок для предоставления информации во время выполнения.
6. **Configuration Management**: Приложение настраивается с помощью файла YAML, включая адреса серверов, тайм-ауты и учетные данные.

## Установка

### Требования

- Go 1.20+
- SQLite
- Git

### Шаги

1. **Клонирование репозитория**:

   ```bash
   git clone https://github.com/AndreyTorkhov/url-shortener.git
   cd url-shortener
   ```

2. **Установка зависимостей**:

   ```bash
   go mod tidy
   ```

3. **Установка переменных среды**:

   ```bash
   export CONFIG_PATH=./config/local.yaml
   ```

4. **Запуск проекта**:

   ```bash
   go run ./cmd/url-shortener/main.go
   ```

### Использование

Перенаправление на исходный URL-адрес
Отправьте запрос GET на `/{alias}`, чтобы он был перенаправлен на исходный URL-адрес.

#### Пример:

```bash
 http://localhost:8082/example
```

Это перенаправит вас на `https://example.ru`.
